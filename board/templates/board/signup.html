{% extends "board/base.html" %}

{% block content %}
<h2 class="text-2xl font-bold text-gray-900 dark:text-gray-100">ユーザー登録</h2>

<!-- グローバルメッセージ -->
{% if messages %}
    {% for message in messages %}
        <p class="text-red-500">{{ message }}</p>
    {% endfor %}
{% endif %}

<form method="post" class="bg-white dark:bg-gray-200 p-6 rounded-lg shadow-md">
    {% csrf_token %}

    <!-- 個別のエラーメッセージをフォーム内で表示 -->
    <div class="mb-4">
        <label for="{{ form.username.id_for_label }}" class="block text-sm font-medium text-gray-700">ユーザー名</label>
        {{ form.username }}
        {% if form.username.errors %}
            <p class="text-red-500 text-sm">{{ form.username.errors.0 }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="{{ form.user_id.id_for_label }}" class="block text-sm font-medium text-gray-700">ユーザーID</label>
        {{ form.user_id }}
        {% if form.user_id.errors %}
            <p class="text-red-500 text-sm">{{ form.user_id.errors.0 }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="{{ form.email.id_for_label }}" class="block text-sm font-medium text-gray-700">メールアドレス</label>
        {{ form.email }}
        {% if form.email.errors %}
            <p class="text-red-500 text-sm">{{ form.email.errors.0 }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="{{ form.password1.id_for_label }}" class="block text-sm font-medium text-gray-700">パスワード</label>
        {{ form.password1 }}
        {% if form.password1.errors %}
            <p class="text-red-500 text-sm">{{ form.password1.errors.0 }}</p>
        {% endif %}
    </div>

    <div class="mb-4">
        <label for="{{ form.password2.id_for_label }}" class="block text-sm font-medium text-gray-700">パスワード確認</label>
        {{ form.password2 }}
        {% if form.password2.errors %}
            <p class="text-red-500 text-sm">{{ form.password2.errors.0 }}</p>
        {% endif %}
    </div>

    <button type="submit" class="mt-4 bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">登録</button>
</form>

<a href="{% url 'login' %}" class="text-blue-500 mt-4 inline-block">ログインはこちら</a>
{% endblock %}
